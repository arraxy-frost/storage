<!DOCTYPE html>
<html>
<head>
    <title>Title</title>
    <meta charset="utf-8" />
    <link href="main.css" rel="stylesheet" type="text/css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app">
        <input type="text" placeholder="Введите url" v-model="inputUrl">
        <button @click="getQrCode(inputUrl)">Create QR</button>
        <img :src="qrCodeImg" >
    </div>
    <script>
        Vue.createApp({
            data() {
                return {
                    inputUrl: 'test',
                    qrCodeImg: null
                }
            },
            methods: {
                async getQrCode(data) {
                    if (!data) {
                        console.warn('Empty input for qr generate method')
                        return
                    }

                    const response = await fetch(`qrcode?data=${data}`)

                    this.qrCodeImg = await response.text()

                    console.log(this.qrCodeImg)
                    this.inputUrl = null
                }
            }
        }).mount('#app');
    </script>
</body>
</html>